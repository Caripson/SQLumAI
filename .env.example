# SQLumAI example environment configuration

# --- Microsoft SQL Server connection ---
SQL_HOST=localhost
SQL_PORT=1433
SQL_USER=sa
SQL_PASSWORD=Your_strong_Pa55
SQL_DATABASE=master
# Optional full DSN (overrides discrete settings if provided)
MSSQL_DSN=

# --- Proxy runtime ---
PROXY_LISTEN_ADDR=0.0.0.0
PROXY_LISTEN_PORT=1433
SNAPSHOT_DIR=./data/snapshots
LOG_LEVEL=info
ENABLE_TDS_PARSER=false
ENABLE_SQL_TEXT_SNIFF=true
ENFORCEMENT_MODE=log
TIME_BUDGET_MS=25
MAX_REWRITE_BYTES=131072
ENABLE_SCHEDULER=false

# --- LLM/analysis configuration ---
LLM_PROVIDER=local
LLM_MODEL=sqlumai-default
LLM_ENDPOINT=http://localhost:11434
LLM_SEND_EXTERNAL=false
REDACTION_ENABLED=true

# --- Secrets provider ---
# Choose provider: env|file
SECRET_PROVIDER=env
# Behavior: permissive (fallback to env) | strict (error if file missing)
SECRET_PROVIDER_MODE=permissive

# --- Testing/integration toggles ---
# When set, integration tests may connect to a live SQL Server
ENABLE_INTEGRATION_TESTS=false

# --- TLS termination (experimental) ---
TLS_TERMINATION=false
TLS_CERT_PATH=certs/dev-cert.pem
TLS_KEY_PATH=certs/dev-key.pem
# XEL file reading (server-side path pattern)
XEL_PATH_PATTERN=C:\\ProgramData\\SQLumAI\\sqlumai_capture*.xel

# --- Environment gating ---
ENVIRONMENT=dev
RPC_AUTOCORRECT_INPLACE=true
RPC_TRUNCATE_ON_AUTOCORRECT=false
